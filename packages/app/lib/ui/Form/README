//We need to find a way to create a input for react native web
//this is not working as type=submit work on input
//Children like pressable button are converted to div

import { Children, cloneElement, useContext } from 'react';
import createHTMLElement from '../../helpers/createHTMLElement';
import FormContext from './FormContext';
import type { ReactElement } from 'react';
import type { ViewProps } from 'react-native';

const Form = ({ onSubmit, ...props }: ViewProps & { onSubmit(): void }) => {
return createHTMLElement('form', {
...props,
onSubmit: (e: any) => {
e.preventDefault();
onSubmit();
},
} as any);
return;
};

export default Form;

export const Submit = ({ children }: { children: ReactElement }) => {
const { onSubmit } = useContext(FormContext);
console.log(onSubmit);
return cloneElement(children, { type: 'submit' }); //this cannot work as children will not be rendered as a input
};
