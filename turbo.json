{
  "$schema": "https://turbo.build/schema.json",
  "pipeline": {
    "build": {
      "dependsOn": ["//#relay:build"]
    },
    "//#relay:build": {
      "dependsOn": ["relay:prepare", "graphql-codegen", "payment-api-client"],
      "inputs": ["packages/**/*.{js,jsx,ts,tsx}", "schema.graphql"],
      "outputs": [
        "packages/app/src/relayArtifacts/**",
        "packages/web/src/persisted-query-map.json"
      ]
    },
    "//#relay:prepare": {
      "dependsOn": [],
      "inputs": [],
      "cache": false
    },
    "//#graphql-codegen": {
      "dependsOn": [],
      "inputs": ["packages/**/*.graphql"],
      "cache": false
    },
    "//#payment-api-client": {
      "passThroughEnv": ["PAYMENT_API_URL"],
      "dependsOn": [],
      "inputs": [],
      "cache": false
    }
  },
  "globalDependencies": ["patches/*.patch"]
}
