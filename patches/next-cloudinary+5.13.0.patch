diff --git a/node_modules/next-cloudinary/dist/index.js b/node_modules/next-cloudinary/dist/index.js
index d50e1ac..63771b2 100644
--- a/node_modules/next-cloudinary/dist/index.js
+++ b/node_modules/next-cloudinary/dist/index.js
@@ -1,4 +1,4 @@
-"use strict";var Ne=Object.create;var $=Object.defineProperty;var be=Object.getOwnPropertyDescriptor;var Te=Object.getOwnPropertyNames;var Ae=Object.getPrototypeOf,ve=Object.prototype.hasOwnProperty;var Me=(e,t)=>{for(var a in t)$(e,a,{get:t[a],enumerable:!0})},me=(e,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Te(t))!ve.call(e,o)&&o!==a&&$(e,o,{get:()=>t[o],enumerable:!(n=be(t,o))||n.enumerable});return e};var w=(e,t,a)=>(a=e!=null?Ne(Ae(e)):{},me(t||!e||!e.__esModule?$(a,"default",{value:e,enumerable:!0}):a,e)),We=e=>me($({},"__esModule",{value:!0}),e);var Be={};Me(Be,{CldImage:()=>ne,CldOgImage:()=>ae,CldUploadButton:()=>le,CldUploadWidget:()=>F,CldVideoPlayer:()=>se,cloudinaryLoader:()=>J,getCldImageUrl:()=>I,getCldOgImageUrl:()=>Le,getCldVideoUrl:()=>Z});module.exports=We(Be);var T=w(require("react")),ye=w(require("next/image")),Ce=require("@cloudinary-util/util"),he=require("@cloudinary-util/url-loader");async function z(e){let{src:t}=e;try{await new Promise((a,n)=>{fetch(t).then(o=>{if(!o.ok){n(o);return}a(o)})})}catch(a){return a.status===423?await z(e):!1}return!0}function b(e){if(!e)throw new Error("A Cloudinary Cloud name is required, please make sure NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME is set and configured in your environment.")}var fe=require("@cloudinary-util/url-loader");var ue=w(require("next/package.json"));var ge={name:"next-cloudinary",version:"5.13.0",license:"MIT",main:"./dist/index.js",module:"./dist/index.mjs",types:"./dist/index.d.ts",source:"src/index.ts",exports:{".":{import:"./dist/index.mjs",require:"./dist/index.js"},"./helpers":{import:"./dist/helpers.mjs",require:"./dist/helpers.js"},"./package.json":"./package.json"},scripts:{build:"tsup",dev:"tsup --watch",prepublishOnly:"cp ../README.md . && cp ../LICENSE . && yarn build",postpublish:"rm ./README.md && rm ./LICENSE",test:"jest","test:app":'NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME="test" yarn build && cd tests/nextjs-app && yarn build'},dependencies:{"@cloudinary-util/url-loader":"^3.22.0","@cloudinary-util/util":"^2.3.0"},devDependencies:{"@babel/core":"^7.23.2","@babel/preset-env":"^7.23.2","@types/jest":"^29.5.6","@types/react":"^18.2.33","@types/react-dom":"^18.2.14","babel-jest":"^29.7.0",dotenv:"^16.3.1",jest:"^29.7.0","jest-environment-jsdom":"^29.7.0",mkdirp:"^3.0.1","ts-jest":"^29.1.1",tsup:"^7.2.0",typescript:"^5.2.2"},peerDependencies:{next:"^12 || ^13 || ^14",react:"^17 || ^18"}};var q="V",K=ge.version,Q=ue.default.version;function I(e,t,a){var o,r;let n=(r=(o=t==null?void 0:t.cloud)==null?void 0:o.cloudName)!=null?r:process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME;return b(n),(0,fe.constructCloudinaryUrl)({options:e,config:Object.assign({cloud:{cloudName:n}},t),analytics:Object.assign({sdkCode:q,sdkSemver:K,techVersion:Q,feature:""},a)})}function J({loaderOptions:e,imageProps:t,cldOptions:a,cldConfig:n={}}){let o={...t,...a};o.width=typeof o.width=="string"?parseInt(o.width):o.width,o.height=typeof o.height=="string"?parseInt(o.height):o.height;let r;return typeof(e==null?void 0:e.width)=="number"&&typeof o.width=="number"&&e.width!==o.width?r=e.width:typeof(e==null?void 0:e.width)=="number"&&typeof(o==null?void 0:o.width)!="number"&&(r=e.width,o.width=r),o.width&&r&&r<o.width&&(o.widthResize=e.width),I(o,n)}var Ve=(0,T.forwardRef)(function(t,a){let n=!1,o=["deliveryType","preserveTransformations","strictTransformations"];he.transformationPlugins.forEach(({props:i=[]})=>{i.forEach(g=>{if(o.includes(g))throw new Error(`Option ${g} already exists!`);o.push(g)})});let r={alt:t.alt,src:t.src};Object.keys(t).filter(i=>!o.includes(i)).forEach(i=>r[i]=t[i]);let c=Object.keys(r).map(i=>`${i}:${r[i]}`).join(";"),[U,p]=(0,T.useState)(c),m={};if(o.forEach(i=>{t[i]&&(m[i]=t[i]||void 0)}),t.preserveTransformations)try{let i=(0,Ce.getTransformations)(t.src).map(g=>g.join(","));m.rawTransformations=[...i.flat(),...t.rawTransformations||[]]}catch(i){console.warn(`Failed to preserve transformations: ${i.message}`)}let d=process.env.__NEXT_IMAGE_OPTS||{};(t.unoptimized===!0||(d==null?void 0:d.unoptimized)===!0)&&(r.src=I({...m,width:r.width,height:r.height,src:r.src,format:"default",quality:"default"},t.config));async function A(i){let g=!0;if(n)return;if(n=!0,typeof t.onError=="function"){let E=t.onError(i);typeof E=="boolean"&&E===!1&&(g=!1)}else typeof t.onError=="boolean"&&t.onError===!1&&(g=!1);if(g===!1)return;let v=i.target;await z({src:v.src})&&p(`${c};${Date.now()}`)}let _=(0,T.useCallback)(A,[z,c]),x=ye.default;return"default"in x&&(x=x.default),T.default.createElement(x,{key:U,...r,loader:i=>J({loaderOptions:i,imageProps:r,cldOptions:m,cldConfig:t.config}),onError:_,ref:a})}),ne=Ve;var L=w(require("react")),Ie=w(require("next/head"));var De="summary_large_image",Se=({excludeTags:e=[],twitterTitle:t,keys:a={},...n})=>{let{alt:o}=n,r={...n,crop:n.crop||"fill",gravity:n.gravity||"center",height:n.height||1254,src:n.src,width:n.width||2400,widthResize:n.width||1200},c=typeof r.width=="string"?parseInt(r.width):r.width,U=typeof r.height=="string"?parseInt(r.height):r.height;typeof U=="number"&&typeof c=="number"&&(U=1200/c*U),c=1200;let p=I({...r,format:n.format||"jpg"}),m=I({...r,format:n.format||"webp"}),d={"og:image":"og-image","og:image:secure_url":"og-image-secureurl","og:image:width":"og-image-width","og:image:height":"og-image-height","og:image:alt":"og-image-alt","twitter:title":"twitter-title","twitter:card":"twitter-card","twitter:image":"twitter-image",...a};return L.default.createElement(Ie.default,null,L.default.createElement("meta",{key:d["og:image"],property:"og:image",content:p}),L.default.createElement("meta",{key:d["og:image:secure_url"],property:"og:image:secure_url",content:p}),L.default.createElement("meta",{key:d["og:image:width"],property:"og:image:width",content:`${c}`}),L.default.createElement("meta",{key:d["og:image:height"],property:"og:image:height",content:`${U}`}),o&&L.default.createElement("meta",{key:d["og:image:alt"],property:"og:image:alt",content:o}),!e.includes("twitter:title")&&L.default.createElement("meta",{key:d["twitter:title"],property:"twitter:title",content:t||" "}),L.default.createElement("meta",{key:d["twitter:card"],property:"twitter:card",content:De}),L.default.createElement("meta",{key:d["twitter:image"],property:"twitter:image",content:m}))},ae=Se;var Y=w(require("react"));var f=w(require("react")),Oe=w(require("next/script"));function Ue(e){return window&&"requestIdleCallback"in window?requestIdleCallback(e):setTimeout(()=>e(),1)}var ke=["success","display-changed"],je={abort:"onAbort","batch-cancelled":"onBatchCancelled","display-changed":"onDisplayChanged",publicid:"onPublicId","queues-end":"onQueuesEnd","queues-start":"onQueuesStart",retry:"onRetry","show-completed":"onShowCompleted","source-changed":"onSourceChanged",success:"onSuccess",tags:"onTags","upload-added":"onUploadAdded"},Re=({children:e,onClose:t,onError:a,onOpen:n,onUpload:o,options:r,signatureEndpoint:c,uploadPreset:U,...p})=>{let m=(0,f.useRef)(),d=(0,f.useRef)(),A=!!c,[_,x]=(0,f.useState)(void 0),[i,g]=(0,f.useState)(void 0),[v,O]=(0,f.useState)(!0),E={cloudName:process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME,uploadPreset:U||process.env.NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET,apiKey:process.env.NEXT_PUBLIC_CLOUDINARY_API_KEY,...r};b(process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME),A&&(E.uploadSignature=M,E.apiKey||console.warn("Missing dependency: Signed Upload requires an API key")),(0,f.useEffect)(()=>{if(typeof i=="undefined")return;let l=i.event==="success",h=i.event==="display-changed"&&i.info==="hidden";l&&typeof o=="function"&&o(i,d.current),h&&typeof t=="function"&&t(d.current)},[i]),(0,f.useEffect)(()=>{_&&typeof a=="function"&&a(_,d.current)},[_]);function V(){O(!1),m.current||(m.current=window.cloudinary),Ue(()=>{d.current||(d.current=re())})}(0,f.useEffect)(()=>()=>{var l;(l=d.current)==null||l.destroy(),d.current=void 0},[]);function M(l,h){if(typeof c=="undefined")throw Error("Failed to generate signature: signatureEndpoint undefined.");fetch(c,{method:"POST",body:JSON.stringify({paramsToSign:h})}).then(u=>u.json()).then(({signature:u})=>{l(u)})}function y(l,h=[]){if(d.current||(d.current=re()),typeof(d==null?void 0:d.current[l])=="function")return d.current[l](...h)}function R(l){y("close",[l])}function H(l){return y("destroy",[l])}function D(){y("hide")}function N(){return y("isDestroyed")}function W(){return y("isMinimized")}function te(){return y("isShowing")}function X(){y("minimize")}function oe(l,h){y("open",[l,h]),typeof n=="function"&&n(d.current)}function S(){y("show")}function G(){y("update")}let k={close:R,destroy:H,hide:D,isDestroyed:N,isMinimized:W,isShowing:te,minimize:X,open:oe,show:S,update:G};function re(){var l;return(l=m.current)==null?void 0:l.createUploadWidget(E,(h,u)=>{if(h&&h!==null&&x(h),typeof(u==null?void 0:u.event)=="string"){ke.includes(u==null?void 0:u.event)&&g(u);let j=je[u.event];if(typeof j=="string"&&typeof p[j]=="function"&&typeof p[j]){let s=p[j];s(u,{widget:d.current,...k})}}})}return f.default.createElement(f.default.Fragment,null,typeof e=="function"&&e({cloudinary:m.current,widget:d.current,results:i,error:_,isLoading:v,...k}),f.default.createElement(Oe.default,{id:`cloudinary-uploadwidget-${Math.floor(Math.random()*100)}`,src:"https://upload-widget.cloudinary.com/global/all.js",onLoad:V,onError:l=>console.error(`Failed to load Cloudinary Upload Widget: ${l.message}`)}))},F=Re;var He=({className:e,children:t,onClick:a,onError:n,onOpen:o,onUpload:r,onAbort:c,onBatchCancelled:U,onClose:p,onDisplayChanged:m,onPublicId:d,onQueuesEnd:A,onQueuesStart:_,onRetry:x,onShowCompleted:i,onSourceChanged:g,onSuccess:v,onTags:O,onUploadAdded:E,options:V,signatureEndpoint:M,uploadPreset:y,...R})=>Y.default.createElement(Y.default.Fragment,null,Y.default.createElement(F,{onError:n,onOpen:o,onUpload:r,onAbort:c,onBatchCancelled:U,onClose:p,onDisplayChanged:m,onPublicId:d,onQueuesEnd:A,onQueuesStart:_,onRetry:x,onShowCompleted:i,onSourceChanged:g,onSuccess:v,onTags:O,onUploadAdded:E,options:V,signatureEndpoint:M,uploadPreset:y},({open:H,isLoading:D})=>{function N(W){W.preventDefault(),H(),typeof a=="function"&&a(W)}return Y.default.createElement("button",{...R,className:e||"",onClick:N,disabled:D},t||"Upload")})),le=He;var C=w(require("react")),we=w(require("next/script")),_e=w(require("next/head")),xe=require("@cloudinary-util/util");var Ee=require("@cloudinary-util/url-loader");function Z(e,t,a){var o,r;let n=(r=(o=t==null?void 0:t.cloud)==null?void 0:o.cloudName)!=null?r:process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME;return b(n),(0,Ee.constructCloudinaryUrl)({options:{assetType:"video",...e},config:Object.assign({cloud:{cloudName:n}},t),analytics:Object.assign({sdkCode:q,sdkSemver:K,techVersion:Q,feature:""},a)})}var ee=[],Pe="1.10.1",Xe=e=>{let{autoPlay:t="never",className:a,colors:n,controls:o=!0,fontFace:r,height:c,id:U,logo:p=!0,loop:m=!1,muted:d=!1,onDataLoad:A,onError:_,onMetadataLoad:x,onPause:i,onPlay:g,onEnded:v,poster:O,src:E,sourceTypes:V,transformation:M,quality:y="auto",width:R,...H}=e,D=Array.isArray(M)?M:[M],N=E||"";if(N.startsWith("http"))try{let s=(0,xe.parseUrl)(E);typeof(s==null?void 0:s.publicId)=="string"&&(N=s==null?void 0:s.publicId)}catch(s){}D.unshift({quality:y});let W=(0,C.useRef)(),te=(0,C.useRef)(),X=e.videoRef||te,oe=(0,C.useRef)(),S=e.playerRef||oe,G=U||`player-${N.replace("/","-")}`,k="cld-video-player cld-fluid";a&&(k=`${k} ${a}`),ee.filter(s=>s===G).length>1?console.warn(`Multiple instances of the same video detected on the
+"use strict";var Ne=Object.create;var $=Object.defineProperty;var be=Object.getOwnPropertyDescriptor;var Te=Object.getOwnPropertyNames;var Ae=Object.getPrototypeOf,ve=Object.prototype.hasOwnProperty;var Me=(e,t)=>{for(var a in t)$(e,a,{get:t[a],enumerable:!0})},me=(e,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Te(t))!ve.call(e,o)&&o!==a&&$(e,o,{get:()=>t[o],enumerable:!(n=be(t,o))||n.enumerable});return e};var w=(e,t,a)=>(a=e!=null?Ne(Ae(e)):{},me(t||!e||!e.__esModule?$(a,"default",{value:e,enumerable:!0}):a,e)),We=e=>me($({},"__esModule",{value:!0}),e);var Be={};Me(Be,{CldImage:()=>ne,CldOgImage:()=>ae,CldUploadButton:()=>le,CldUploadWidget:()=>F,CldVideoPlayer:()=>se,cloudinaryLoader:()=>J,getCldImageUrl:()=>I,getCldOgImageUrl:()=>Le,getCldVideoUrl:()=>Z});module.exports=We(Be);var T=w(require("react")),ye=w(require("next/image")),Ce=require("@cloudinary-util/util"),he=require("@cloudinary-util/url-loader");async function z(e){let{src:t}=e;try{await new Promise((a,n)=>{fetch(t).then(o=>{if(!o.ok){n(o);return}a(o)})})}catch(a){return a.status===423?await z(e):!1}return!0}function b(e){if(!e)throw new Error("A Cloudinary Cloud name is required, please make sure NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME is set and configured in your environment.")}var fe=require("@cloudinary-util/url-loader");var ue=w(require("next/package.json"));var ge={name:"next-cloudinary",version:"5.13.0",license:"MIT",main:"./dist/index.js",module:"./dist/index.mjs",types:"./dist/index.d.ts",source:"src/index.ts",exports:{".":{import:"./dist/index.mjs",require:"./dist/index.js"},"./helpers":{import:"./dist/helpers.mjs",require:"./dist/helpers.js"},"./package.json":"./package.json"},scripts:{build:"tsup",dev:"tsup --watch",prepublishOnly:"cp ../README.md . && cp ../LICENSE . && yarn build",postpublish:"rm ./README.md && rm ./LICENSE",test:"jest","test:app":'NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME="test" yarn build && cd tests/nextjs-app && yarn build'},dependencies:{"@cloudinary-util/url-loader":"^3.22.0","@cloudinary-util/util":"^2.3.0"},devDependencies:{"@babel/core":"^7.23.2","@babel/preset-env":"^7.23.2","@types/jest":"^29.5.6","@types/react":"^18.2.33","@types/react-dom":"^18.2.14","babel-jest":"^29.7.0",dotenv:"^16.3.1",jest:"^29.7.0","jest-environment-jsdom":"^29.7.0",mkdirp:"^3.0.1","ts-jest":"^29.1.1",tsup:"^7.2.0",typescript:"^5.2.2"},peerDependencies:{next:"^12 || ^13 || ^14",react:"^17 || ^18"}};var q="V",K=ge.version,Q=ue.default.version;function I(e,t,a){var o,r;let n=(r=(o=t==null?void 0:t.cloud)==null?void 0:o.cloudName)!=null?r:process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME;return b(n),(0,fe.constructCloudinaryUrl)({options:e,config:Object.assign({cloud:{cloudName:n}},t),analytics:Object.assign({sdkCode:q,sdkSemver:K,techVersion:Q,feature:""},a)})}function J({loaderOptions:e,imageProps:t,cldOptions:a,cldConfig:n={}}){let o={...t,...a};o.width=typeof o.width=="string"?parseInt(o.width):o.width,o.height=typeof o.height=="string"?parseInt(o.height):o.height;let r;return typeof(e==null?void 0:e.width)=="number"&&typeof o.width=="number"&&e.width!==o.width?r=e.width:typeof(e==null?void 0:e.width)=="number"&&typeof(o==null?void 0:o.width)!="number"&&(r=e.width,o.width=r),o.width&&r&&r<o.width&&(o.widthResize=e.width),I(o,n)}var Ve=(0,T.forwardRef)(function(t,a){let n=!1,o=["deliveryType","preserveTransformations","strictTransformations","assetType"];he.transformationPlugins.forEach(({props:i=[]})=>{i.forEach(g=>{if(o.includes(g))throw new Error(`Option ${g} already exists!`);o.push(g)})});let r={alt:t.alt,src:t.src};Object.keys(t).filter(i=>!o.includes(i)).forEach(i=>r[i]=t[i]);let c=Object.keys(r).map(i=>`${i}:${r[i]}`).join(";"),[U,p]=(0,T.useState)(c),m={};if(o.forEach(i=>{t[i]&&(m[i]=t[i]||void 0)}),t.preserveTransformations)try{let i=(0,Ce.getTransformations)(t.src).map(g=>g.join(","));m.rawTransformations=[...i.flat(),...t.rawTransformations||[]]}catch(i){console.warn(`Failed to preserve transformations: ${i.message}`)}let d=process.env.__NEXT_IMAGE_OPTS||{};(t.unoptimized===!0||(d==null?void 0:d.unoptimized)===!0)&&(r.src=I({...m,width:r.width,height:r.height,src:r.src,format:"default",quality:"default"},t.config));async function A(i){let g=!0;if(n)return;if(n=!0,typeof t.onError=="function"){let E=t.onError(i);typeof E=="boolean"&&E===!1&&(g=!1)}else typeof t.onError=="boolean"&&t.onError===!1&&(g=!1);if(g===!1)return;let v=i.target;await z({src:v.src})&&p(`${c};${Date.now()}`)}let _=(0,T.useCallback)(A,[z,c]),x=ye.default;return"default"in x&&(x=x.default),T.default.createElement(x,{key:U,...r,loader:i=>J({loaderOptions:i,imageProps:r,cldOptions:m,cldConfig:t.config}),onError:_,ref:a})}),ne=Ve;var L=w(require("react")),Ie=w(require("next/head"));var De="summary_large_image",Se=({excludeTags:e=[],twitterTitle:t,keys:a={},...n})=>{let{alt:o}=n,r={...n,crop:n.crop||"fill",gravity:n.gravity||"center",height:n.height||1254,src:n.src,width:n.width||2400,widthResize:n.width||1200},c=typeof r.width=="string"?parseInt(r.width):r.width,U=typeof r.height=="string"?parseInt(r.height):r.height;typeof U=="number"&&typeof c=="number"&&(U=1200/c*U),c=1200;let p=I({...r,format:n.format||"jpg"}),m=I({...r,format:n.format||"webp"}),d={"og:image":"og-image","og:image:secure_url":"og-image-secureurl","og:image:width":"og-image-width","og:image:height":"og-image-height","og:image:alt":"og-image-alt","twitter:title":"twitter-title","twitter:card":"twitter-card","twitter:image":"twitter-image",...a};return L.default.createElement(Ie.default,null,L.default.createElement("meta",{key:d["og:image"],property:"og:image",content:p}),L.default.createElement("meta",{key:d["og:image:secure_url"],property:"og:image:secure_url",content:p}),L.default.createElement("meta",{key:d["og:image:width"],property:"og:image:width",content:`${c}`}),L.default.createElement("meta",{key:d["og:image:height"],property:"og:image:height",content:`${U}`}),o&&L.default.createElement("meta",{key:d["og:image:alt"],property:"og:image:alt",content:o}),!e.includes("twitter:title")&&L.default.createElement("meta",{key:d["twitter:title"],property:"twitter:title",content:t||" "}),L.default.createElement("meta",{key:d["twitter:card"],property:"twitter:card",content:De}),L.default.createElement("meta",{key:d["twitter:image"],property:"twitter:image",content:m}))},ae=Se;var Y=w(require("react"));var f=w(require("react")),Oe=w(require("next/script"));function Ue(e){return window&&"requestIdleCallback"in window?requestIdleCallback(e):setTimeout(()=>e(),1)}var ke=["success","display-changed"],je={abort:"onAbort","batch-cancelled":"onBatchCancelled","display-changed":"onDisplayChanged",publicid:"onPublicId","queues-end":"onQueuesEnd","queues-start":"onQueuesStart",retry:"onRetry","show-completed":"onShowCompleted","source-changed":"onSourceChanged",success:"onSuccess",tags:"onTags","upload-added":"onUploadAdded"},Re=({children:e,onClose:t,onError:a,onOpen:n,onUpload:o,options:r,signatureEndpoint:c,uploadPreset:U,...p})=>{let m=(0,f.useRef)(),d=(0,f.useRef)(),A=!!c,[_,x]=(0,f.useState)(void 0),[i,g]=(0,f.useState)(void 0),[v,O]=(0,f.useState)(!0),E={cloudName:process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME,uploadPreset:U||process.env.NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET,apiKey:process.env.NEXT_PUBLIC_CLOUDINARY_API_KEY,...r};b(process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME),A&&(E.uploadSignature=M,E.apiKey||console.warn("Missing dependency: Signed Upload requires an API key")),(0,f.useEffect)(()=>{if(typeof i=="undefined")return;let l=i.event==="success",h=i.event==="display-changed"&&i.info==="hidden";l&&typeof o=="function"&&o(i,d.current),h&&typeof t=="function"&&t(d.current)},[i]),(0,f.useEffect)(()=>{_&&typeof a=="function"&&a(_,d.current)},[_]);function V(){O(!1),m.current||(m.current=window.cloudinary),Ue(()=>{d.current||(d.current=re())})}(0,f.useEffect)(()=>()=>{var l;(l=d.current)==null||l.destroy(),d.current=void 0},[]);function M(l,h){if(typeof c=="undefined")throw Error("Failed to generate signature: signatureEndpoint undefined.");fetch(c,{method:"POST",body:JSON.stringify({paramsToSign:h})}).then(u=>u.json()).then(({signature:u})=>{l(u)})}function y(l,h=[]){if(d.current||(d.current=re()),typeof(d==null?void 0:d.current[l])=="function")return d.current[l](...h)}function R(l){y("close",[l])}function H(l){return y("destroy",[l])}function D(){y("hide")}function N(){return y("isDestroyed")}function W(){return y("isMinimized")}function te(){return y("isShowing")}function X(){y("minimize")}function oe(l,h){y("open",[l,h]),typeof n=="function"&&n(d.current)}function S(){y("show")}function G(){y("update")}let k={close:R,destroy:H,hide:D,isDestroyed:N,isMinimized:W,isShowing:te,minimize:X,open:oe,show:S,update:G};function re(){var l;return(l=m.current)==null?void 0:l.createUploadWidget(E,(h,u)=>{if(h&&h!==null&&x(h),typeof(u==null?void 0:u.event)=="string"){ke.includes(u==null?void 0:u.event)&&g(u);let j=je[u.event];if(typeof j=="string"&&typeof p[j]=="function"&&typeof p[j]){let s=p[j];s(u,{widget:d.current,...k})}}})}return f.default.createElement(f.default.Fragment,null,typeof e=="function"&&e({cloudinary:m.current,widget:d.current,results:i,error:_,isLoading:v,...k}),f.default.createElement(Oe.default,{id:`cloudinary-uploadwidget-${Math.floor(Math.random()*100)}`,src:"https://upload-widget.cloudinary.com/global/all.js",onLoad:V,onError:l=>console.error(`Failed to load Cloudinary Upload Widget: ${l.message}`)}))},F=Re;var He=({className:e,children:t,onClick:a,onError:n,onOpen:o,onUpload:r,onAbort:c,onBatchCancelled:U,onClose:p,onDisplayChanged:m,onPublicId:d,onQueuesEnd:A,onQueuesStart:_,onRetry:x,onShowCompleted:i,onSourceChanged:g,onSuccess:v,onTags:O,onUploadAdded:E,options:V,signatureEndpoint:M,uploadPreset:y,...R})=>Y.default.createElement(Y.default.Fragment,null,Y.default.createElement(F,{onError:n,onOpen:o,onUpload:r,onAbort:c,onBatchCancelled:U,onClose:p,onDisplayChanged:m,onPublicId:d,onQueuesEnd:A,onQueuesStart:_,onRetry:x,onShowCompleted:i,onSourceChanged:g,onSuccess:v,onTags:O,onUploadAdded:E,options:V,signatureEndpoint:M,uploadPreset:y},({open:H,isLoading:D})=>{function N(W){W.preventDefault(),H(),typeof a=="function"&&a(W)}return Y.default.createElement("button",{...R,className:e||"",onClick:N,disabled:D},t||"Upload")})),le=He;var C=w(require("react")),we=w(require("next/script")),_e=w(require("next/head")),xe=require("@cloudinary-util/util");var Ee=require("@cloudinary-util/url-loader");function Z(e,t,a){var o,r;let n=(r=(o=t==null?void 0:t.cloud)==null?void 0:o.cloudName)!=null?r:process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME;return b(n),(0,Ee.constructCloudinaryUrl)({options:{assetType:"video",...e},config:Object.assign({cloud:{cloudName:n}},t),analytics:Object.assign({sdkCode:q,sdkSemver:K,techVersion:Q,feature:""},a)})}var ee=[],Pe="1.10.1",Xe=e=>{let{autoPlay:t="never",className:a,colors:n,controls:o=!0,fontFace:r,height:c,id:U,logo:p=!0,loop:m=!1,muted:d=!1,onDataLoad:A,onError:_,onMetadataLoad:x,onPause:i,onPlay:g,onEnded:v,poster:O,src:E,sourceTypes:V,transformation:M,quality:y="auto",width:R,...H}=e,D=Array.isArray(M)?M:[M],N=E||"";if(N.startsWith("http"))try{let s=(0,xe.parseUrl)(E);typeof(s==null?void 0:s.publicId)=="string"&&(N=s==null?void 0:s.publicId)}catch(s){}D.unshift({quality:y});let W=(0,C.useRef)(),te=(0,C.useRef)(),X=e.videoRef||te,oe=(0,C.useRef)(),S=e.playerRef||oe,G=U||`player-${N.replace("/","-")}`,k="cld-video-player cld-fluid";a&&(k=`${k} ${a}`),ee.filter(s=>s===G).length>1?console.warn(`Multiple instances of the same video detected on the
      page which may cause some features to not work. 
     Try adding a unique id to each player.`):ee.push(G);let l={error:_,loadeddata:A,loadedmetadata:x,pause:i,play:g,ended:v};function h(s){let P=l[s.type];typeof P=="function"&&P(j())}b(process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME);function u(){if("cloudinary"in window){W.current=window.cloudinary;let s={};typeof p=="boolean"?s.showLogo=p:typeof p=="object"&&(s={...s,showLogo:!0,logoImageUrl:p.imageUrl,logoOnclickUrl:p.onClickUrl});let P={autoplayMode:t,cloud_name:process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME,controls:o,fontFace:r||"",loop:m,muted:d,publicId:N,transformation:D,...s,...H};Array.isArray(V)&&(P.sourceTypes=V),typeof n=="object"&&(P.colors=n),typeof O=="string"?P.posterOptions={publicId:O}:typeof O=="object"&&(typeof O.src!="string"?P.posterOptions={publicId:Z({...O,src:N,format:"auto:image"})}:P.posterOptions={publicId:I(O)}),S.current=W.current.videoPlayer(X.current,P),Object.keys(l).forEach(ce=>{var pe;typeof l[ce]=="function"&&((pe=S.current)==null||pe.on(ce,h))})}}(0,C.useEffect)(()=>()=>{var s;(s=S.current)==null||s.videojs.cloudinary.dispose(),ee=ee.filter(P=>P!==G)},[]);function j(){return{player:S.current,video:X.current}}return C.default.createElement(C.default.Fragment,null,C.default.createElement(_e.default,null,C.default.createElement("link",{href:`https://unpkg.com/cloudinary-video-player@${Pe}/dist/cld-video-player.min.css`,rel:"stylesheet"})),C.default.createElement("div",{style:{width:"100%",aspectRatio:`${e.width} / ${e.height}`}},C.default.createElement("video",{ref:X,id:G,className:k,width:R,height:c}),C.default.createElement(we.default,{id:`cloudinary-videoplayer-${G}-${Math.floor(Math.random()*100)}`,src:`https://unpkg.com/cloudinary-video-player@${Pe}/dist/cld-video-player.min.js`,onLoad:u,onError:s=>console.error(`Failed to load Cloudinary Video Player: ${s.message}`)})))},se=Xe;function Le(e){return I({...e,crop:e.crop||"fill",format:e.format||"jpg",gravity:e.gravity||"center",height:e.height||1254,width:e.width||2400,widthResize:e.width||1200})}0&&(module.exports={CldImage,CldOgImage,CldUploadButton,CldUploadWidget,CldVideoPlayer,cloudinaryLoader,getCldImageUrl,getCldOgImageUrl,getCldVideoUrl});
 //# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/node_modules/next-cloudinary/dist/index.mjs b/node_modules/next-cloudinary/dist/index.mjs
index 4e5baf1..e725a79 100644
--- a/node_modules/next-cloudinary/dist/index.mjs
+++ b/node_modules/next-cloudinary/dist/index.mjs
@@ -1,4 +1,4 @@
-import Ie,{useState as Ue,useCallback as Oe,forwardRef as Ee}from"react";import Pe from"next/image";import{getTransformations as we}from"@cloudinary-util/util";import{transformationPlugins as _e}from"@cloudinary-util/url-loader";async function H(e){let{src:o}=e;try{await new Promise((s,d)=>{fetch(o).then(t=>{if(!t.ok){d(t);return}s(t)})})}catch(s){return s.status===423?await H(e):!1}return!0}function x(e){if(!e)throw new Error("A Cloudinary Cloud name is required, please make sure NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME is set and configured in your environment.")}import{constructCloudinaryUrl as he}from"@cloudinary-util/url-loader";import Ce from"next/package.json";var le={name:"next-cloudinary",version:"5.13.0",license:"MIT",main:"./dist/index.js",module:"./dist/index.mjs",types:"./dist/index.d.ts",source:"src/index.ts",exports:{".":{import:"./dist/index.mjs",require:"./dist/index.js"},"./helpers":{import:"./dist/helpers.mjs",require:"./dist/helpers.js"},"./package.json":"./package.json"},scripts:{build:"tsup",dev:"tsup --watch",prepublishOnly:"cp ../README.md . && cp ../LICENSE . && yarn build",postpublish:"rm ./README.md && rm ./LICENSE",test:"jest","test:app":'NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME="test" yarn build && cd tests/nextjs-app && yarn build'},dependencies:{"@cloudinary-util/url-loader":"^3.22.0","@cloudinary-util/util":"^2.3.0"},devDependencies:{"@babel/core":"^7.23.2","@babel/preset-env":"^7.23.2","@types/jest":"^29.5.6","@types/react":"^18.2.33","@types/react-dom":"^18.2.14","babel-jest":"^29.7.0",dotenv:"^16.3.1",jest:"^29.7.0","jest-environment-jsdom":"^29.7.0",mkdirp:"^3.0.1","ts-jest":"^29.1.1",tsup:"^7.2.0",typescript:"^5.2.2"},peerDependencies:{next:"^12 || ^13 || ^14",react:"^17 || ^18"}};var X="V",B=le.version,F=Ce.version;function h(e,o,s){var t,r;let d=(r=(t=o==null?void 0:o.cloud)==null?void 0:t.cloudName)!=null?r:process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME;return x(d),he({options:e,config:Object.assign({cloud:{cloudName:d}},o),analytics:Object.assign({sdkCode:X,sdkSemver:B,techVersion:F,feature:""},s)})}function J({loaderOptions:e,imageProps:o,cldOptions:s,cldConfig:d={}}){let t={...o,...s};t.width=typeof t.width=="string"?parseInt(t.width):t.width,t.height=typeof t.height=="string"?parseInt(t.height):t.height;let r;return typeof(e==null?void 0:e.width)=="number"&&typeof t.width=="number"&&e.width!==t.width?r=e.width:typeof(e==null?void 0:e.width)=="number"&&typeof(t==null?void 0:t.width)!="number"&&(r=e.width,t.width=r),t.width&&r&&r<t.width&&(t.widthResize=e.width),h(t,d)}var xe=Ee(function(o,s){let d=!1,t=["deliveryType","preserveTransformations","strictTransformations"];_e.forEach(({props:n=[]})=>{n.forEach(g=>{if(t.includes(g))throw new Error(`Option ${g} already exists!`);t.push(g)})});let r={alt:o.alt,src:o.src};Object.keys(o).filter(n=>!t.includes(n)).forEach(n=>r[n]=o[n]);let c=Object.keys(r).map(n=>`${n}:${r[n]}`).join(";"),[C,p]=Ue(c),m={};if(t.forEach(n=>{o[n]&&(m[n]=o[n]||void 0)}),o.preserveTransformations)try{let n=we(o.src).map(g=>g.join(","));m.rawTransformations=[...n.flat(),...o.rawTransformations||[]]}catch(n){console.warn(`Failed to preserve transformations: ${n.message}`)}let i=process.env.__NEXT_IMAGE_OPTS||{};(o.unoptimized===!0||(i==null?void 0:i.unoptimized)===!0)&&(r.src=h({...m,width:r.width,height:r.height,src:r.src,format:"default",quality:"default"},o.config));async function L(n){let g=!0;if(d)return;if(d=!0,typeof o.onError=="function"){let U=o.onError(n);typeof U=="boolean"&&U===!1&&(g=!1)}else typeof o.onError=="boolean"&&o.onError===!1&&(g=!1);if(g===!1)return;let N=n.target;await H({src:N.src})&&p(`${c};${Date.now()}`)}let E=Oe(L,[H,c]),P=Pe;return"default"in P&&(P=P.default),Ie.createElement(P,{key:C,...r,loader:n=>J({loaderOptions:n,imageProps:r,cldOptions:m,cldConfig:o.config}),onError:E,ref:s})}),se=xe;import _ from"react";import Le from"next/head";var Ne="summary_large_image",be=({excludeTags:e=[],twitterTitle:o,keys:s={},...d})=>{let{alt:t}=d,r={...d,crop:d.crop||"fill",gravity:d.gravity||"center",height:d.height||1254,src:d.src,width:d.width||2400,widthResize:d.width||1200},c=typeof r.width=="string"?parseInt(r.width):r.width,C=typeof r.height=="string"?parseInt(r.height):r.height;typeof C=="number"&&typeof c=="number"&&(C=1200/c*C),c=1200;let p=h({...r,format:d.format||"jpg"}),m=h({...r,format:d.format||"webp"}),i={"og:image":"og-image","og:image:secure_url":"og-image-secureurl","og:image:width":"og-image-width","og:image:height":"og-image-height","og:image:alt":"og-image-alt","twitter:title":"twitter-title","twitter:card":"twitter-card","twitter:image":"twitter-image",...s};return _.createElement(Le,null,_.createElement("meta",{key:i["og:image"],property:"og:image",content:p}),_.createElement("meta",{key:i["og:image:secure_url"],property:"og:image:secure_url",content:p}),_.createElement("meta",{key:i["og:image:width"],property:"og:image:width",content:`${c}`}),_.createElement("meta",{key:i["og:image:height"],property:"og:image:height",content:`${C}`}),t&&_.createElement("meta",{key:i["og:image:alt"],property:"og:image:alt",content:t}),!e.includes("twitter:title")&&_.createElement("meta",{key:i["twitter:title"],property:"twitter:title",content:o||" "}),_.createElement("meta",{key:i["twitter:card"],property:"twitter:card",content:Ne}),_.createElement("meta",{key:i["twitter:image"],property:"twitter:image",content:m}))},ce=be;import $ from"react";import te,{useState as oe,useEffect as re,useRef as me}from"react";import Te from"next/script";function pe(e){return window&&"requestIdleCallback"in window?requestIdleCallback(e):setTimeout(()=>e(),1)}var Ae=["success","display-changed"],ve={abort:"onAbort","batch-cancelled":"onBatchCancelled","display-changed":"onDisplayChanged",publicid:"onPublicId","queues-end":"onQueuesEnd","queues-start":"onQueuesStart",retry:"onRetry","show-completed":"onShowCompleted","source-changed":"onSourceChanged",success:"onSuccess",tags:"onTags","upload-added":"onUploadAdded"},Me=({children:e,onClose:o,onError:s,onOpen:d,onUpload:t,options:r,signatureEndpoint:c,uploadPreset:C,...p})=>{let m=me(),i=me(),L=!!c,[E,P]=oe(void 0),[n,g]=oe(void 0),[N,I]=oe(!0),U={cloudName:process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME,uploadPreset:C||process.env.NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET,apiKey:process.env.NEXT_PUBLIC_CLOUDINARY_API_KEY,...r};x(process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME),L&&(U.uploadSignature=b,U.apiKey||console.warn("Missing dependency: Signed Upload requires an API key")),re(()=>{if(typeof n=="undefined")return;let a=n.event==="success",y=n.event==="display-changed"&&n.info==="hidden";a&&typeof t=="function"&&t(n,i.current),y&&typeof o=="function"&&o(i.current)},[n]),re(()=>{E&&typeof s=="function"&&s(E,i.current)},[E]);function M(){I(!1),m.current||(m.current=window.cloudinary),pe(()=>{i.current||(i.current=Q())})}re(()=>()=>{var a;(a=i.current)==null||a.destroy(),i.current=void 0},[]);function b(a,y){if(typeof c=="undefined")throw Error("Failed to generate signature: signatureEndpoint undefined.");fetch(c,{method:"POST",body:JSON.stringify({paramsToSign:y})}).then(u=>u.json()).then(({signature:u})=>{a(u)})}function f(a,y=[]){if(i.current||(i.current=Q()),typeof(i==null?void 0:i.current[a])=="function")return i.current[a](...y)}function S(a){f("close",[a])}function k(a){return f("destroy",[a])}function W(){f("hide")}function w(){return f("isDestroyed")}function T(){return f("isMinimized")}function q(){return f("isShowing")}function j(){f("minimize")}function K(a,y){f("open",[a,y]),typeof d=="function"&&d(i.current)}function G(){f("show")}function A(){f("update")}let V={close:S,destroy:k,hide:W,isDestroyed:w,isMinimized:T,isShowing:q,minimize:j,open:K,show:G,update:A};function Q(){var a;return(a=m.current)==null?void 0:a.createUploadWidget(U,(y,u)=>{if(y&&y!==null&&P(y),typeof(u==null?void 0:u.event)=="string"){Ae.includes(u==null?void 0:u.event)&&g(u);let D=ve[u.event];if(typeof D=="string"&&typeof p[D]=="function"&&typeof p[D]){let l=p[D];l(u,{widget:i.current,...V})}}})}return te.createElement(te.Fragment,null,typeof e=="function"&&e({cloudinary:m.current,widget:i.current,results:n,error:E,isLoading:N,...V}),te.createElement(Te,{id:`cloudinary-uploadwidget-${Math.floor(Math.random()*100)}`,src:"https://upload-widget.cloudinary.com/global/all.js",onLoad:M,onError:a=>console.error(`Failed to load Cloudinary Upload Widget: ${a.message}`)}))},Y=Me;var We=({className:e,children:o,onClick:s,onError:d,onOpen:t,onUpload:r,onAbort:c,onBatchCancelled:C,onClose:p,onDisplayChanged:m,onPublicId:i,onQueuesEnd:L,onQueuesStart:E,onRetry:P,onShowCompleted:n,onSourceChanged:g,onSuccess:N,onTags:I,onUploadAdded:U,options:M,signatureEndpoint:b,uploadPreset:f,...S})=>$.createElement($.Fragment,null,$.createElement(Y,{onError:d,onOpen:t,onUpload:r,onAbort:c,onBatchCancelled:C,onClose:p,onDisplayChanged:m,onPublicId:i,onQueuesEnd:L,onQueuesStart:E,onRetry:P,onShowCompleted:n,onSourceChanged:g,onSuccess:N,onTags:I,onUploadAdded:U,options:M,signatureEndpoint:b,uploadPreset:f},({open:k,isLoading:W})=>{function w(T){T.preventDefault(),k(),typeof s=="function"&&s(T)}return $.createElement("button",{...S,className:e||"",onClick:w,disabled:W},o||"Upload")})),ge=We;import v,{useRef as ie,useEffect as Ve}from"react";import De from"next/script";import Se from"next/head";import{parseUrl as ke}from"@cloudinary-util/util";import{constructCloudinaryUrl as Ge}from"@cloudinary-util/url-loader";function ne(e,o,s){var t,r;let d=(r=(t=o==null?void 0:o.cloud)==null?void 0:t.cloudName)!=null?r:process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME;return x(d),Ge({options:{assetType:"video",...e},config:Object.assign({cloud:{cloudName:d}},o),analytics:Object.assign({sdkCode:X,sdkSemver:B,techVersion:F,feature:""},s)})}var z=[],ue="1.10.1",je=e=>{let{autoPlay:o="never",className:s,colors:d,controls:t=!0,fontFace:r,height:c,id:C,logo:p=!0,loop:m=!1,muted:i=!1,onDataLoad:L,onError:E,onMetadataLoad:P,onPause:n,onPlay:g,onEnded:N,poster:I,src:U,sourceTypes:M,transformation:b,quality:f="auto",width:S,...k}=e,W=Array.isArray(b)?b:[b],w=U||"";if(w.startsWith("http"))try{let l=ke(U);typeof(l==null?void 0:l.publicId)=="string"&&(w=l==null?void 0:l.publicId)}catch(l){}W.unshift({quality:f});let T=ie(),q=ie(),j=e.videoRef||q,K=ie(),G=e.playerRef||K,A=C||`player-${w.replace("/","-")}`,V="cld-video-player cld-fluid";s&&(V=`${V} ${s}`),z.filter(l=>l===A).length>1?console.warn(`Multiple instances of the same video detected on the
+import Ie,{useState as Ue,useCallback as Oe,forwardRef as Ee}from"react";import Pe from"next/image";import{getTransformations as we}from"@cloudinary-util/util";import{transformationPlugins as _e}from"@cloudinary-util/url-loader";async function H(e){let{src:o}=e;try{await new Promise((s,d)=>{fetch(o).then(t=>{if(!t.ok){d(t);return}s(t)})})}catch(s){return s.status===423?await H(e):!1}return!0}function x(e){if(!e)throw new Error("A Cloudinary Cloud name is required, please make sure NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME is set and configured in your environment.")}import{constructCloudinaryUrl as he}from"@cloudinary-util/url-loader";import Ce from"next/package.json";var le={name:"next-cloudinary",version:"5.13.0",license:"MIT",main:"./dist/index.js",module:"./dist/index.mjs",types:"./dist/index.d.ts",source:"src/index.ts",exports:{".":{import:"./dist/index.mjs",require:"./dist/index.js"},"./helpers":{import:"./dist/helpers.mjs",require:"./dist/helpers.js"},"./package.json":"./package.json"},scripts:{build:"tsup",dev:"tsup --watch",prepublishOnly:"cp ../README.md . && cp ../LICENSE . && yarn build",postpublish:"rm ./README.md && rm ./LICENSE",test:"jest","test:app":'NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME="test" yarn build && cd tests/nextjs-app && yarn build'},dependencies:{"@cloudinary-util/url-loader":"^3.22.0","@cloudinary-util/util":"^2.3.0"},devDependencies:{"@babel/core":"^7.23.2","@babel/preset-env":"^7.23.2","@types/jest":"^29.5.6","@types/react":"^18.2.33","@types/react-dom":"^18.2.14","babel-jest":"^29.7.0",dotenv:"^16.3.1",jest:"^29.7.0","jest-environment-jsdom":"^29.7.0",mkdirp:"^3.0.1","ts-jest":"^29.1.1",tsup:"^7.2.0",typescript:"^5.2.2"},peerDependencies:{next:"^12 || ^13 || ^14",react:"^17 || ^18"}};var X="V",B=le.version,F=Ce.version;function h(e,o,s){var t,r;let d=(r=(t=o==null?void 0:o.cloud)==null?void 0:t.cloudName)!=null?r:process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME;return x(d),he({options:e,config:Object.assign({cloud:{cloudName:d}},o),analytics:Object.assign({sdkCode:X,sdkSemver:B,techVersion:F,feature:""},s)})}function J({loaderOptions:e,imageProps:o,cldOptions:s,cldConfig:d={}}){let t={...o,...s};t.width=typeof t.width=="string"?parseInt(t.width):t.width,t.height=typeof t.height=="string"?parseInt(t.height):t.height;let r;return typeof(e==null?void 0:e.width)=="number"&&typeof t.width=="number"&&e.width!==t.width?r=e.width:typeof(e==null?void 0:e.width)=="number"&&typeof(t==null?void 0:t.width)!="number"&&(r=e.width,t.width=r),t.width&&r&&r<t.width&&(t.widthResize=e.width),h(t,d)}var xe=Ee(function(o,s){let d=!1,t=["deliveryType","preserveTransformations","strictTransformations","assetType"];_e.forEach(({props:n=[]})=>{n.forEach(g=>{if(t.includes(g))throw new Error(`Option ${g} already exists!`);t.push(g)})});let r={alt:o.alt,src:o.src};Object.keys(o).filter(n=>!t.includes(n)).forEach(n=>r[n]=o[n]);let c=Object.keys(r).map(n=>`${n}:${r[n]}`).join(";"),[C,p]=Ue(c),m={};if(t.forEach(n=>{o[n]&&(m[n]=o[n]||void 0)}),o.preserveTransformations)try{let n=we(o.src).map(g=>g.join(","));m.rawTransformations=[...n.flat(),...o.rawTransformations||[]]}catch(n){console.warn(`Failed to preserve transformations: ${n.message}`)}let i=process.env.__NEXT_IMAGE_OPTS||{};(o.unoptimized===!0||(i==null?void 0:i.unoptimized)===!0)&&(r.src=h({...m,width:r.width,height:r.height,src:r.src,format:"default",quality:"default"},o.config));async function L(n){let g=!0;if(d)return;if(d=!0,typeof o.onError=="function"){let U=o.onError(n);typeof U=="boolean"&&U===!1&&(g=!1)}else typeof o.onError=="boolean"&&o.onError===!1&&(g=!1);if(g===!1)return;let N=n.target;await H({src:N.src})&&p(`${c};${Date.now()}`)}let E=Oe(L,[H,c]),P=Pe;return"default"in P&&(P=P.default),Ie.createElement(P,{key:C,...r,loader:n=>J({loaderOptions:n,imageProps:r,cldOptions:m,cldConfig:o.config}),onError:E,ref:s})}),se=xe;import _ from"react";import Le from"next/head";var Ne="summary_large_image",be=({excludeTags:e=[],twitterTitle:o,keys:s={},...d})=>{let{alt:t}=d,r={...d,crop:d.crop||"fill",gravity:d.gravity||"center",height:d.height||1254,src:d.src,width:d.width||2400,widthResize:d.width||1200},c=typeof r.width=="string"?parseInt(r.width):r.width,C=typeof r.height=="string"?parseInt(r.height):r.height;typeof C=="number"&&typeof c=="number"&&(C=1200/c*C),c=1200;let p=h({...r,format:d.format||"jpg"}),m=h({...r,format:d.format||"webp"}),i={"og:image":"og-image","og:image:secure_url":"og-image-secureurl","og:image:width":"og-image-width","og:image:height":"og-image-height","og:image:alt":"og-image-alt","twitter:title":"twitter-title","twitter:card":"twitter-card","twitter:image":"twitter-image",...s};return _.createElement(Le,null,_.createElement("meta",{key:i["og:image"],property:"og:image",content:p}),_.createElement("meta",{key:i["og:image:secure_url"],property:"og:image:secure_url",content:p}),_.createElement("meta",{key:i["og:image:width"],property:"og:image:width",content:`${c}`}),_.createElement("meta",{key:i["og:image:height"],property:"og:image:height",content:`${C}`}),t&&_.createElement("meta",{key:i["og:image:alt"],property:"og:image:alt",content:t}),!e.includes("twitter:title")&&_.createElement("meta",{key:i["twitter:title"],property:"twitter:title",content:o||" "}),_.createElement("meta",{key:i["twitter:card"],property:"twitter:card",content:Ne}),_.createElement("meta",{key:i["twitter:image"],property:"twitter:image",content:m}))},ce=be;import $ from"react";import te,{useState as oe,useEffect as re,useRef as me}from"react";import Te from"next/script";function pe(e){return window&&"requestIdleCallback"in window?requestIdleCallback(e):setTimeout(()=>e(),1)}var Ae=["success","display-changed"],ve={abort:"onAbort","batch-cancelled":"onBatchCancelled","display-changed":"onDisplayChanged",publicid:"onPublicId","queues-end":"onQueuesEnd","queues-start":"onQueuesStart",retry:"onRetry","show-completed":"onShowCompleted","source-changed":"onSourceChanged",success:"onSuccess",tags:"onTags","upload-added":"onUploadAdded"},Me=({children:e,onClose:o,onError:s,onOpen:d,onUpload:t,options:r,signatureEndpoint:c,uploadPreset:C,...p})=>{let m=me(),i=me(),L=!!c,[E,P]=oe(void 0),[n,g]=oe(void 0),[N,I]=oe(!0),U={cloudName:process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME,uploadPreset:C||process.env.NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET,apiKey:process.env.NEXT_PUBLIC_CLOUDINARY_API_KEY,...r};x(process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME),L&&(U.uploadSignature=b,U.apiKey||console.warn("Missing dependency: Signed Upload requires an API key")),re(()=>{if(typeof n=="undefined")return;let a=n.event==="success",y=n.event==="display-changed"&&n.info==="hidden";a&&typeof t=="function"&&t(n,i.current),y&&typeof o=="function"&&o(i.current)},[n]),re(()=>{E&&typeof s=="function"&&s(E,i.current)},[E]);function M(){I(!1),m.current||(m.current=window.cloudinary),pe(()=>{i.current||(i.current=Q())})}re(()=>()=>{var a;(a=i.current)==null||a.destroy(),i.current=void 0},[]);function b(a,y){if(typeof c=="undefined")throw Error("Failed to generate signature: signatureEndpoint undefined.");fetch(c,{method:"POST",body:JSON.stringify({paramsToSign:y})}).then(u=>u.json()).then(({signature:u})=>{a(u)})}function f(a,y=[]){if(i.current||(i.current=Q()),typeof(i==null?void 0:i.current[a])=="function")return i.current[a](...y)}function S(a){f("close",[a])}function k(a){return f("destroy",[a])}function W(){f("hide")}function w(){return f("isDestroyed")}function T(){return f("isMinimized")}function q(){return f("isShowing")}function j(){f("minimize")}function K(a,y){f("open",[a,y]),typeof d=="function"&&d(i.current)}function G(){f("show")}function A(){f("update")}let V={close:S,destroy:k,hide:W,isDestroyed:w,isMinimized:T,isShowing:q,minimize:j,open:K,show:G,update:A};function Q(){var a;return(a=m.current)==null?void 0:a.createUploadWidget(U,(y,u)=>{if(y&&y!==null&&P(y),typeof(u==null?void 0:u.event)=="string"){Ae.includes(u==null?void 0:u.event)&&g(u);let D=ve[u.event];if(typeof D=="string"&&typeof p[D]=="function"&&typeof p[D]){let l=p[D];l(u,{widget:i.current,...V})}}})}return te.createElement(te.Fragment,null,typeof e=="function"&&e({cloudinary:m.current,widget:i.current,results:n,error:E,isLoading:N,...V}),te.createElement(Te,{id:`cloudinary-uploadwidget-${Math.floor(Math.random()*100)}`,src:"https://upload-widget.cloudinary.com/global/all.js",onLoad:M,onError:a=>console.error(`Failed to load Cloudinary Upload Widget: ${a.message}`)}))},Y=Me;var We=({className:e,children:o,onClick:s,onError:d,onOpen:t,onUpload:r,onAbort:c,onBatchCancelled:C,onClose:p,onDisplayChanged:m,onPublicId:i,onQueuesEnd:L,onQueuesStart:E,onRetry:P,onShowCompleted:n,onSourceChanged:g,onSuccess:N,onTags:I,onUploadAdded:U,options:M,signatureEndpoint:b,uploadPreset:f,...S})=>$.createElement($.Fragment,null,$.createElement(Y,{onError:d,onOpen:t,onUpload:r,onAbort:c,onBatchCancelled:C,onClose:p,onDisplayChanged:m,onPublicId:i,onQueuesEnd:L,onQueuesStart:E,onRetry:P,onShowCompleted:n,onSourceChanged:g,onSuccess:N,onTags:I,onUploadAdded:U,options:M,signatureEndpoint:b,uploadPreset:f},({open:k,isLoading:W})=>{function w(T){T.preventDefault(),k(),typeof s=="function"&&s(T)}return $.createElement("button",{...S,className:e||"",onClick:w,disabled:W},o||"Upload")})),ge=We;import v,{useRef as ie,useEffect as Ve}from"react";import De from"next/script";import Se from"next/head";import{parseUrl as ke}from"@cloudinary-util/util";import{constructCloudinaryUrl as Ge}from"@cloudinary-util/url-loader";function ne(e,o,s){var t,r;let d=(r=(t=o==null?void 0:o.cloud)==null?void 0:t.cloudName)!=null?r:process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME;return x(d),Ge({options:{assetType:"video",...e},config:Object.assign({cloud:{cloudName:d}},o),analytics:Object.assign({sdkCode:X,sdkSemver:B,techVersion:F,feature:""},s)})}var z=[],ue="1.10.1",je=e=>{let{autoPlay:o="never",className:s,colors:d,controls:t=!0,fontFace:r,height:c,id:C,logo:p=!0,loop:m=!1,muted:i=!1,onDataLoad:L,onError:E,onMetadataLoad:P,onPause:n,onPlay:g,onEnded:N,poster:I,src:U,sourceTypes:M,transformation:b,quality:f="auto",width:S,...k}=e,W=Array.isArray(b)?b:[b],w=U||"";if(w.startsWith("http"))try{let l=ke(U);typeof(l==null?void 0:l.publicId)=="string"&&(w=l==null?void 0:l.publicId)}catch(l){}W.unshift({quality:f});let T=ie(),q=ie(),j=e.videoRef||q,K=ie(),G=e.playerRef||K,A=C||`player-${w.replace("/","-")}`,V="cld-video-player cld-fluid";s&&(V=`${V} ${s}`),z.filter(l=>l===A).length>1?console.warn(`Multiple instances of the same video detected on the
      page which may cause some features to not work. 
     Try adding a unique id to each player.`):z.push(A);let a={error:E,loadeddata:L,loadedmetadata:P,pause:n,play:g,ended:N};function y(l){let O=a[l.type];typeof O=="function"&&O(D())}x(process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME);function u(){if("cloudinary"in window){T.current=window.cloudinary;let l={};typeof p=="boolean"?l.showLogo=p:typeof p=="object"&&(l={...l,showLogo:!0,logoImageUrl:p.imageUrl,logoOnclickUrl:p.onClickUrl});let O={autoplayMode:o,cloud_name:process.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME,controls:t,fontFace:r||"",loop:m,muted:i,publicId:w,transformation:W,...l,...k};Array.isArray(M)&&(O.sourceTypes=M),typeof d=="object"&&(O.colors=d),typeof I=="string"?O.posterOptions={publicId:I}:typeof I=="object"&&(typeof I.src!="string"?O.posterOptions={publicId:ne({...I,src:w,format:"auto:image"})}:O.posterOptions={publicId:h(I)}),G.current=T.current.videoPlayer(j.current,O),Object.keys(a).forEach(de=>{var ae;typeof a[de]=="function"&&((ae=G.current)==null||ae.on(de,y))})}}Ve(()=>()=>{var l;(l=G.current)==null||l.videojs.cloudinary.dispose(),z=z.filter(O=>O!==A)},[]);function D(){return{player:G.current,video:j.current}}return v.createElement(v.Fragment,null,v.createElement(Se,null,v.createElement("link",{href:`https://unpkg.com/cloudinary-video-player@${ue}/dist/cld-video-player.min.css`,rel:"stylesheet"})),v.createElement("div",{style:{width:"100%",aspectRatio:`${e.width} / ${e.height}`}},v.createElement("video",{ref:j,id:A,className:V,width:S,height:c}),v.createElement(De,{id:`cloudinary-videoplayer-${A}-${Math.floor(Math.random()*100)}`,src:`https://unpkg.com/cloudinary-video-player@${ue}/dist/cld-video-player.min.js`,onLoad:u,onError:l=>console.error(`Failed to load Cloudinary Video Player: ${l.message}`)})))},fe=je;function Re(e){return h({...e,crop:e.crop||"fill",format:e.format||"jpg",gravity:e.gravity||"center",height:e.height||1254,width:e.width||2400,widthResize:e.width||1200})}export{se as CldImage,ce as CldOgImage,ge as CldUploadButton,Y as CldUploadWidget,fe as CldVideoPlayer,J as cloudinaryLoader,h as getCldImageUrl,Re as getCldOgImageUrl,ne as getCldVideoUrl};
 //# sourceMappingURL=index.mjs.map
\ No newline at end of file
